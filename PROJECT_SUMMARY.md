# ğŸ² åŒºå—é“¾æ¸¸æˆå¹³å° - é¡¹ç›®æ€»ç»“

## é¡¹ç›®æ¦‚è¿°

è¿™æ˜¯ä¸€ä¸ªåŸºäº Chainlink VRF çš„å®Œå…¨å»ä¸­å¿ƒåŒ–æ¸¸æˆå¹³å°ï¼Œå®ç°äº†å¯è¯æ˜å…¬å¹³çš„éšæœºæ•°ç”Ÿæˆã€‚é¡¹ç›®åŒ…å«æ™ºèƒ½åˆçº¦ã€åç«¯ API æœåŠ¡å’Œ React å‰ç«¯åº”ç”¨ï¼Œæ‰€æœ‰æœåŠ¡éƒ½å¯ä»¥é€šè¿‡ Docker ä¸€é”®éƒ¨ç½²ã€‚

## âœ… å·²å®ç°åŠŸèƒ½

### æ ¸å¿ƒåŠŸèƒ½

#### 1. Chainlink VRF é›†æˆ âœ…
- [x] VRF V2 å®Œæ•´å®ç°
- [x] å›è°ƒæ¨¡å¼å¤„ç†
- [x] è¯·æ±‚å¤±è´¥å¤„ç†
- [x] éšæœºæ•°éªŒè¯æœºåˆ¶

#### 2. å½©ç¥¨æ¸¸æˆ âœ…
- [x] å®šæ—¶æŠ½å¥–æœºåˆ¶
- [x] å¤šç©å®¶å‚ä¸
- [x] å¥–æ± è‡ªåŠ¨ç´¯ç§¯
- [x] è·èƒœè€…éšæœºé€‰æ‹©
- [x] è‡ªåŠ¨å¥–é‡‘å‘æ”¾
- [x] å†å²è®°å½•æŸ¥è¯¢

#### 3. éª°å­æ¸¸æˆ âœ…
- [x] 1-6 ç‚¹æ•°æŠ•æ³¨
- [x] 6å€èµ”ç‡æœºåˆ¶
- [x] å®æ—¶ç»“ç®—
- [x] æŠ•æ³¨å†å²è¿½è¸ª
- [x] ç©å®¶ç»Ÿè®¡

#### 4. æŠ•æ³¨å’Œèµ„é‡‘ç®¡ç† âœ…
- [x] ETH æŠ•æ³¨æ”¯æŒ
- [x] æœ€å°/æœ€å¤§ä¸‹æ³¨é™åˆ¶
- [x] 5% å¹³å°æŠ½æˆ
- [x] è‡ªåŠ¨èµ”ä»˜ç³»ç»Ÿ
- [x] åˆçº¦ä½™é¢ç®¡ç†

#### 5. é˜²ä½œå¼Šæœºåˆ¶ âœ…
- [x] VRF éšæœºæ•°ä¸å¯é¢„æµ‹
- [x] é‡å…¥æ”»å‡»ä¿æŠ¤
- [x] è®¿é—®æ§åˆ¶
- [x] ç´§æ€¥æš‚åœåŠŸèƒ½
- [x] é€æ˜ç»“æœéªŒè¯

### æŠ€æœ¯æ ˆ

#### æ™ºèƒ½åˆçº¦å±‚
- **Solidity** 0.8.19
- **OpenZeppelin** Contracts
- **Chainlink VRF** V2
- **Remix IDE** éƒ¨ç½²

#### åç«¯æœåŠ¡
- **Node.js** 18+
- **Express** REST API
- **Ethers.js** 6.x
- **MongoDB** æ•°æ®åº“
- **Docker** å®¹å™¨åŒ–

#### å‰ç«¯åº”ç”¨
- **React** 18
- **React Router** è·¯ç”±
- **Ethers.js** Web3 äº¤äº’
- **React Toastify** é€šçŸ¥
- **Nginx** ç”Ÿäº§éƒ¨ç½²

#### DevOps
- **Docker Compose** æœåŠ¡ç¼–æ’
- **å¥åº·æ£€æŸ¥** è‡ªåŠ¨æ¢å¤
- **æ—¥å¿—èšåˆ** ç»Ÿä¸€æŸ¥çœ‹

## ğŸ“ é¡¹ç›®ç»“æ„

```
blockchaindevep2/
â”œâ”€â”€ contracts/                 # Solidity æ™ºèƒ½åˆçº¦
â”‚   â”œâ”€â”€ GameToken.sol         # ERC20 æ¸¸æˆä»£å¸
â”‚   â”œâ”€â”€ VRFRandomGame.sol     # VRF åŸºç¡€åˆçº¦
â”‚   â”œâ”€â”€ Lottery.sol           # å½©ç¥¨æ¸¸æˆ
â”‚   â”œâ”€â”€ DiceGame.sol          # éª°å­æ¸¸æˆ
â”‚   â””â”€â”€ DEPLOYMENT.md         # åˆçº¦éƒ¨ç½²æŒ‡å—
â”‚
â”œâ”€â”€ backend/                   # Node.js åç«¯
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ index.js          # æœåŠ¡å™¨å…¥å£
â”‚   â”‚   â”œâ”€â”€ services/
â”‚   â”‚   â”‚   â””â”€â”€ web3.js       # Web3 æœåŠ¡
â”‚   â”‚   â”œâ”€â”€ models/           # æ•°æ®æ¨¡å‹
â”‚   â”‚   â”‚   â”œâ”€â”€ GameEvent.js
â”‚   â”‚   â”‚   â””â”€â”€ UserStats.js
â”‚   â”‚   â””â”€â”€ routes/           # API è·¯ç”±
â”‚   â”‚       â”œâ”€â”€ lottery.js
â”‚   â”‚       â”œâ”€â”€ dice.js
â”‚   â”‚       â”œâ”€â”€ user.js
â”‚   â”‚       â””â”€â”€ stats.js
â”‚   â”œâ”€â”€ package.json
â”‚   â””â”€â”€ Dockerfile
â”‚
â”œâ”€â”€ frontend/                  # React å‰ç«¯
â”‚   â”œâ”€â”€ public/
â”‚   â”‚   â””â”€â”€ index.html
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ App.js            # ä¸»åº”ç”¨
â”‚   â”‚   â”œâ”€â”€ components/       # ç»„ä»¶
â”‚   â”‚   â”‚   â””â”€â”€ Header.js
â”‚   â”‚   â”œâ”€â”€ pages/            # é¡µé¢
â”‚   â”‚   â”‚   â”œâ”€â”€ Home.js
â”‚   â”‚   â”‚   â”œâ”€â”€ Lottery.js
â”‚   â”‚   â”‚   â”œâ”€â”€ DiceGame.js
â”‚   â”‚   â”‚   â””â”€â”€ Profile.js
â”‚   â”‚   â”œâ”€â”€ utils/            # å·¥å…·
â”‚   â”‚   â”‚   â”œâ”€â”€ web3.js
â”‚   â”‚   â”‚   â””â”€â”€ api.js
â”‚   â”‚   â””â”€â”€ config/           # é…ç½®
â”‚   â”‚       â””â”€â”€ contracts.js
â”‚   â”œâ”€â”€ package.json
â”‚   â”œâ”€â”€ Dockerfile
â”‚   â””â”€â”€ nginx.conf
â”‚
â”œâ”€â”€ docker-compose.yml         # Docker ç¼–æ’
â”œâ”€â”€ .env.example              # ç¯å¢ƒå˜é‡æ¨¡æ¿
â”œâ”€â”€ .gitignore
â”œâ”€â”€ README.md                 # é¡¹ç›®è¯´æ˜
â”œâ”€â”€ QUICKSTART.md             # å¿«é€Ÿå¼€å§‹
â”œâ”€â”€ DEPLOYMENT_GUIDE.md       # éƒ¨ç½²æŒ‡å—
â”œâ”€â”€ start.sh                  # Linux å¯åŠ¨è„šæœ¬
â””â”€â”€ start.bat                 # Windows å¯åŠ¨è„šæœ¬
```

## ğŸ”‘ æ ¸å¿ƒæ™ºèƒ½åˆçº¦åŠŸèƒ½

### VRFRandomGame.sol
```solidity
- é›†æˆ Chainlink VRF V2
- è¯·æ±‚å’Œæ¥æ”¶éšæœºæ•°
- å¯é…ç½® VRF å‚æ•°
- å¹³å°æŠ½æˆç®¡ç†
- èµ„é‡‘æå–åŠŸèƒ½
```

### Lottery.sol
```solidity
- è½®æ¬¡ç®¡ç†ç³»ç»Ÿ
- ç¥¨åˆ¸è´­ä¹°æœºåˆ¶
- VRF å¼€å¥–
- å¥–é‡‘è‡ªåŠ¨åˆ†é…
- ç´§æ€¥é€€æ¬¾åŠŸèƒ½
```

### DiceGame.sol
```solidity
- æ•°å­—æŠ•æ³¨ (1-6)
- VRF æ·éª°å­
- å€ç‡èµ”ä»˜
- æŠ•æ³¨å†å²
- ç©å®¶ç»Ÿè®¡
```

## ğŸŒ API ç«¯ç‚¹

### å½©ç¥¨ API
```
GET  /api/lottery/status           # å½“å‰è½®æ¬¡
GET  /api/lottery/history          # å†å²è®°å½•
GET  /api/lottery/player/:address  # ç©å®¶ç¥¨æ•°
```

### éª°å­ API
```
GET  /api/dice/status              # æ¸¸æˆçŠ¶æ€
GET  /api/dice/history/:address    # æŠ•æ³¨å†å²
GET  /api/dice/player/:address     # ç©å®¶ç»Ÿè®¡
```

### ç”¨æˆ· API
```
GET  /api/user/:address/stats      # ç»¼åˆç»Ÿè®¡
```

### ç»Ÿè®¡ API
```
GET  /api/stats/overview           # å¹³å°æ¦‚è§ˆ
GET  /api/stats/network            # ç½‘ç»œä¿¡æ¯
```

## ğŸš€ éƒ¨ç½²æµç¨‹

### 1. åˆçº¦éƒ¨ç½² (Remix)
```
1. éƒ¨ç½² GameToken
2. éƒ¨ç½² Lottery (VRF å‚æ•°)
3. éƒ¨ç½² DiceGame (VRF å‚æ•°)
4. æ·»åŠ åˆ° VRF Subscription
5. ä¸ºåˆçº¦å……å€¼ ETH
```

### 2. é…ç½®ç¯å¢ƒå˜é‡
```bash
cp .env.example .env
# ç¼–è¾‘ .env å¡«å†™åˆçº¦åœ°å€
```

### 3. Docker éƒ¨ç½²
```bash
# Windows
start.bat

# Linux/Mac
./start.sh
```

### 4. è®¿é—®åº”ç”¨
```
Frontend: http://localhost:3000
Backend:  http://localhost:3001
MongoDB:  localhost:27017
```

## ğŸ“Š æ•°æ®æµç¨‹

### å½©ç¥¨æ¸¸æˆæµç¨‹
```
1. ç”¨æˆ·è´­ä¹°å½©ç¥¨ â†’ äº¤æ˜“ä¸Šé“¾
2. è½®æ¬¡æ—¶é—´åˆ° â†’ ä»»ä½•äººè§¦å‘å¼€å¥–
3. è¯·æ±‚ VRF éšæœºæ•°
4. Chainlink è¿”å›éšæœºæ•° â†’ é€‰æ‹©è·èƒœè€…
5. è‡ªåŠ¨å‘æ”¾å¥–é‡‘
6. å¼€å§‹æ–°è½®æ¬¡
```

### éª°å­æ¸¸æˆæµç¨‹
```
1. ç”¨æˆ·é€‰æ‹©æ•°å­— + æŠ•æ³¨é‡‘é¢ â†’ äº¤æ˜“ä¸Šé“¾
2. è¯·æ±‚ VRF éšæœºæ•°
3. Chainlink è¿”å›éšæœºæ•° â†’ ç”Ÿæˆ 1-6
4. åˆ¤æ–­æ˜¯å¦è·èƒœ
5. å¦‚æœè·èƒœ â†’ è‡ªåŠ¨å‘æ”¾å¥–é‡‘
6. è®°å½•ç»“æœ
```

## ğŸ”’ å®‰å…¨æœºåˆ¶

### æ™ºèƒ½åˆçº¦å±‚
- âœ… OpenZeppelin ReentrancyGuard
- âœ… Ownable è®¿é—®æ§åˆ¶
- âœ… VRF é˜²æ“çºµéšæœºæ•°
- âœ… ä¸‹æ³¨é‡‘é¢éªŒè¯
- âœ… åˆçº¦ä½™é¢æ£€æŸ¥

### åº”ç”¨å±‚
- âœ… äº¤æ˜“å‚æ•°éªŒè¯
- âœ… ç”¨æˆ·ç¡®è®¤æç¤º
- âœ… é”™è¯¯å¤„ç†
- âœ… ç½‘ç»œæ£€æŸ¥
- âœ… Gas ä¼°ç®—

## ğŸ“ˆ æ€§èƒ½ç‰¹ç‚¹

- **VRF å“åº”æ—¶é—´**: 30ç§’-2åˆ†é’Ÿ
- **API å“åº”**: <100ms
- **å‰ç«¯åŠ è½½**: <2ç§’
- **å¹¶å‘æ”¯æŒ**: 100+ ç”¨æˆ·
- **äº¤æ˜“ç¡®è®¤**: 1-3 ä¸ªåŒºå—

## ğŸ§ª æµ‹è¯•å»ºè®®

### å•å…ƒæµ‹è¯•
```bash
cd backend
npm test
```

### é›†æˆæµ‹è¯•
```
1. éƒ¨ç½²åˆçº¦åˆ°æµ‹è¯•ç½‘
2. è¿è¡Œå®Œæ•´æ¸¸æˆæµç¨‹
3. éªŒè¯æ•°æ®ä¸€è‡´æ€§
4. æ£€æŸ¥è¾¹ç•Œæƒ…å†µ
```

### å‹åŠ›æµ‹è¯•
```
- å¤šç”¨æˆ·åŒæ—¶æŠ•æ³¨
- VRF è¯·æ±‚é˜Ÿåˆ—
- æ•°æ®åº“å¹¶å‘
- API é™æµ
```

## ğŸ› ï¸ å¯æ‰©å±•åŠŸèƒ½

### çŸ­æœŸ (å·²è§„åˆ’)
- [ ] NFT æˆå°±ç³»ç»Ÿ
- [ ] æ¨èå¥–åŠ±
- [ ] ENS é›†æˆ
- [ ] ç¤¾äº¤åˆ†äº«

### ä¸­æœŸ
- [ ] æ›´å¤šæ¸¸æˆç±»å‹
- [ ] å¤šäººç«æŠ€
- [ ] é”¦æ ‡èµ›æ¨¡å¼
- [ ] ç§»åŠ¨ç«¯åº”ç”¨

### é•¿æœŸ
- [ ] L2 æ‰©å±•
- [ ] è·¨é“¾æ”¯æŒ
- [ ] DAO æ²»ç†
- [ ] æµåŠ¨æ€§æŒ–çŸ¿

## ğŸ“ é…ç½®è¯´æ˜

### Sepolia æµ‹è¯•ç½‘
```
Network: Sepolia
Chain ID: 11155111
VRF Coordinator: 0x8103B0A8A00be2DDC778e6e7eaa21791Cd364625
Key Hash: 0x474e34a077df58807dbe9c96d3c009b23b3c6d0cce433e59bbf5b34f823bc56c
```

### æ¸¸æˆå‚æ•°
```
å½©ç¥¨:
- ç¥¨ä»·: 0.01 ETH
- è½®æ¬¡æ—¶é•¿: 1 å°æ—¶
- æœ€å¤§ç¥¨æ•°/ç”¨æˆ·: 100

éª°å­:
- æœ€å°æŠ•æ³¨: 0.001 ETH
- æœ€å¤§æŠ•æ³¨: 1 ETH
- èµ”ç‡: 6x
- å¹³å°æŠ½æˆ: 5%
```

## ğŸ“ å­¦ä¹ è¦ç‚¹

è¿™ä¸ªé¡¹ç›®æ¶µç›–äº†ä»¥ä¸‹åŒºå—é“¾å¼€å‘æŠ€æœ¯:

1. **Chainlink VRF é›†æˆ** - å¯éªŒè¯éšæœºæ•°
2. **æ™ºèƒ½åˆçº¦å¼€å‘** - Solidity æœ€ä½³å®è·µ
3. **Web3 å‰ç«¯** - ethers.js å’Œ React
4. **åç«¯ API** - é“¾ä¸Šé“¾ä¸‹æ•°æ®åŒæ­¥
5. **Docker éƒ¨ç½²** - å¾®æœåŠ¡æ¶æ„
6. **å®‰å…¨è€ƒè™‘** - é‡å…¥æ”»å‡»ç­‰é˜²æŠ¤

## ğŸ“š å‚è€ƒèµ„æº

- [Chainlink VRF æ–‡æ¡£](https://docs.chain.link/vrf/v2/introduction)
- [OpenZeppelin Contracts](https://docs.openzeppelin.com/contracts/)
- [Ethers.js æ–‡æ¡£](https://docs.ethers.org/)
- [React æ–‡æ¡£](https://react.dev/)
- [Sepolia Testnet](https://sepolia.etherscan.io/)

## ğŸ‘¥ è´¡çŒ®æŒ‡å—

æ¬¢è¿è´¡çŒ®ï¼è¯·éµå¾ªä»¥ä¸‹æ­¥éª¤:

1. Fork é¡¹ç›®
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯
3. æäº¤æ›´æ”¹
4. æ¨é€åˆ°åˆ†æ”¯
5. åˆ›å»º Pull Request

## ğŸ“„ è®¸å¯è¯

MIT License - å¼€æºä½¿ç”¨

## ğŸ™ è‡´è°¢

- Chainlink å›¢é˜Ÿ - VRF è§£å†³æ–¹æ¡ˆ
- OpenZeppelin - å®‰å…¨åˆçº¦åº“
- Ethereum ç¤¾åŒº - å·¥å…·å’Œæ”¯æŒ

---

## âš ï¸ å…è´£å£°æ˜

**æœ¬é¡¹ç›®ä»…ç”¨äºæ•™è‚²å’Œå­¦ä¹ ç›®çš„ã€‚**

- è¿™æ˜¯æµ‹è¯•ç½‘éƒ¨ç½²ï¼Œä¸åº”åœ¨ä¸»ç½‘ä½¿ç”¨æœªç»å®¡è®¡çš„ä»£ç 
- æ¸¸æˆæ¶‰åŠèµ„é‡‘é£é™©ï¼Œè¯·è°¨æ…ä½¿ç”¨
- ç¡®ä¿ç†è§£æ™ºèƒ½åˆçº¦ä»£ç åå†éƒ¨ç½²
- å»ºè®®è¿›è¡Œä¸“ä¸šå®‰å…¨å®¡è®¡åå†ç”¨äºç”Ÿäº§ç¯å¢ƒ

---

**é¡¹ç›®å®Œæˆæ—¥æœŸ**: 2026å¹´2æœˆ10æ—¥
**ç‰ˆæœ¬**: 1.0.0
**çŠ¶æ€**: âœ… ç”Ÿäº§å°±ç»ª (æµ‹è¯•ç½‘)
